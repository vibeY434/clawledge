/**
 * generate-showcase.mjs — One-time script to generate showcase pending cases
 * Run: node scripts/generate-showcase.mjs
 */
import { readFileSync, writeFileSync } from 'fs';
import { buildDedupIndex, isDuplicate, generateId, applyDefaults } from './lib/schema.mjs';

const today = '2026-02-17';

// Load existing cases for dedup
const existing = JSON.parse(readFileSync('src/data/use-cases.json', 'utf8'));
const dedupIndex = buildDedupIndex(existing);
console.log(`Loaded ${existing.length} existing cases for dedup`);

const showcaseCases = [
  {
    title: 'PR Review to Telegram Feedback',
    description: 'OpenCode finishes a code change and opens a PR. OpenClaw then reviews the diff and replies in Telegram with minor suggestions plus a clear merge verdict. Automates the entire code review feedback loop.',
    fullContent: 'This use case bridges the gap between code review and team communication. When OpenCode completes a change and opens a pull request, OpenClaw steps in as an automated reviewer. It analyzes the diff, identifies potential issues, and sends structured feedback directly to Telegram.\n\nThe beauty of this setup is the merge verdict: instead of going back and forth in GitHub comments, you get a clear yes/no with specific suggestions right in your messaging app. This is particularly powerful for solo developers or small teams who want fast feedback without context-switching.',
    category: 'development',
    tags: ['code-review', 'github', 'telegram', 'automation', 'pr-review'],
    difficulty: 'intermediate',
    estimatedSetupTime: '1-2 hours',
    source: { type: 'x-post', url: 'https://x.com/i/status/2010878524543131691', author: 'bangnokia', authorHandle: '@bangnokia' },
    requirements: ['OpenClaw or Clawdbot', 'GitHub repository', 'Telegram bot token', 'Claude API Key'],
    monthlyApiCost: '$10-20',
    impactScore: 7,
  },
  {
    title: 'Wine Cellar Skill in Minutes',
    description: 'Asked OpenClaw for a local wine cellar management skill. It requested a sample CSV export and storage location, then built and tested the skill fast, handling 962 bottles in the example.',
    fullContent: 'A perfect demonstration of OpenClaw skill-building capabilities. The user simply asked for a wine cellar management tool, and OpenClaw took it from there: it asked for a CSV export of existing inventory, understood the data structure, and generated a complete skill.\n\nThe resulting skill can track bottles, search by vintage/region/grape, suggest pairings, and manage inventory. The fact that it handled 962 bottles without issues shows the robustness of locally-built skills.',
    category: 'productivity',
    tags: ['skills', 'csv', 'inventory', 'local-data', 'wine'],
    difficulty: 'beginner',
    estimatedSetupTime: '30 minutes',
    source: { type: 'x-post', url: 'https://x.com/i/status/2010916352454791216', author: 'prades_maxime', authorHandle: '@prades_maxime' },
    monthlyApiCost: '$5-10',
    impactScore: 6,
  },
  {
    title: 'Tesco Shop Autopilot',
    description: 'Weekly meal plan to grocery order: generates meal plan, adds regulars, books delivery slot, confirms order. No APIs needed, just browser control.',
    fullContent: 'This automation handles the entire weekly grocery shopping workflow end-to-end. Starting from a meal plan, OpenClaw navigates Tesco via browser control, adds all necessary items, selects a delivery slot, and confirms.\n\nWhat makes this impressive is that it works without any official API. OpenClaw uses pure browser automation. For families or busy professionals, this could save 30-60 minutes per week.',
    category: 'productivity',
    tags: ['automation', 'browser-control', 'shopping', 'grocery', 'meal-planning'],
    difficulty: 'intermediate',
    estimatedSetupTime: '1-2 hours',
    source: { type: 'x-post', url: 'https://x.com/i/status/2009724862470689131', author: 'marchattonhere', authorHandle: '@marchattonhere' },
    requirements: ['OpenClaw or Clawdbot', 'Tesco account', 'Browser automation', 'Always-on machine'],
    monthlyApiCost: '$15-30',
    impactScore: 8,
  },
  {
    title: 'SNAG Screenshot-to-Markdown',
    description: 'Hotkey a screen region, Gemini vision converts it to instant Markdown in your clipboard. Perfect for documentation workflows.',
    fullContent: 'SNAG combines screen capture with AI vision to produce clean Markdown output. Press a hotkey, select a screen region, and Gemini vision converts the content into properly formatted Markdown in your clipboard.\n\nIncredibly useful for documentation: screenshot a UI, get structured Markdown. Capture code from a video, get formatted code blocks. Open source on GitHub.',
    category: 'development',
    tags: ['devtools', 'screenshots', 'markdown', 'gemini', 'clipboard'],
    difficulty: 'beginner',
    estimatedSetupTime: '15 minutes',
    source: { type: 'github', url: 'https://github.com/am-will/snag', author: 'am-will' },
    monthlyApiCost: '$5-10',
    impactScore: 7,
    relatedRepos: ['am-will/snag'],
  },
  {
    title: 'Agents UI Desktop Manager',
    description: 'Desktop app to manage skills and commands across Claude, Codex, and OpenClaw. Sync and organize your agent ecosystem from one interface.',
    category: 'development',
    tags: ['ui', 'skills', 'agent-management', 'desktop-app'],
    difficulty: 'beginner',
    source: { type: 'blog', url: 'https://releaseflow.net/kitze/agents-ui', author: 'kitze' },
    monthlyApiCost: '$0',
    impactScore: 6,
  },
  {
    title: 'Telegram Voice Notes via TTS',
    description: 'Wraps papla.media TTS and sends results as Telegram voice notes without autoplay. Natural-sounding voice messages on demand.',
    category: 'communication',
    tags: ['voice', 'tts', 'telegram', 'accessibility'],
    difficulty: 'intermediate',
    source: { type: 'blog', url: 'https://papla.media/docs', author: 'Community' },
    impactScore: 5,
  },
  {
    title: 'CodexMonitor CLI',
    description: 'Homebrew-installed helper to list, inspect, and watch local OpenAI Codex sessions from CLI and VS Code.',
    category: 'development',
    tags: ['devtools', 'codex', 'monitoring', 'cli', 'vscode'],
    difficulty: 'beginner',
    source: { type: 'blog', url: 'https://clawhub.com/odrobnik/codexmonitor', author: 'odrobnik' },
    monthlyApiCost: '$0',
    impactScore: 5,
  },
  {
    title: 'Bambu 3D Printer Control',
    description: 'Control BambuLab 3D printers: status, jobs, camera, AMS filament, calibration. Smart home meets maker culture.',
    category: 'smart-home',
    tags: ['hardware', '3d-printing', 'bambulab', 'iot', 'maker'],
    difficulty: 'intermediate',
    source: { type: 'blog', url: 'https://clawhub.com/tobiasbischoff/bambu-cli', author: 'tobiasbischoff' },
    impactScore: 7,
  },
  {
    title: 'Vienna Transport Wiener Linien',
    description: 'Real-time departures, disruptions, elevator status, and routing for Vienna public transport via natural language.',
    category: 'productivity',
    tags: ['travel', 'transport', 'vienna', 'real-time'],
    difficulty: 'beginner',
    source: { type: 'blog', url: 'https://clawhub.com/hjanuschka/wienerlinien', author: 'hjanuschka' },
    impactScore: 5,
  },
  {
    title: 'ParentPay School Meals Booking',
    description: 'Automated UK school meal booking via ParentPay using mouse coordinates for reliable table cell clicking.',
    category: 'productivity',
    tags: ['automation', 'browser-control', 'parenting', 'school'],
    difficulty: 'intermediate',
    source: { type: 'discord', url: 'https://docs.openclaw.ai/start/showcase#parentpay', author: 'George5562' },
    impactScore: 6,
  },
  {
    title: 'R2 Upload File Sharing',
    description: 'Upload to Cloudflare R2/S3 and generate presigned download links. Perfect for sharing files from remote OpenClaw instances.',
    category: 'development',
    tags: ['files', 'cloudflare-r2', 's3', 'presigned-urls'],
    difficulty: 'beginner',
    source: { type: 'blog', url: 'https://clawhub.com/skills/r2-upload', author: 'julianengel' },
    monthlyApiCost: '$0-5',
    impactScore: 6,
  },
  {
    title: 'iOS App Built via Telegram',
    description: 'Complete iOS app with maps and voice recording, deployed to TestFlight entirely via Telegram chat. Never opened Xcode.',
    category: 'development',
    tags: ['ios', 'xcode', 'testflight', 'telegram', 'mobile-dev'],
    difficulty: 'advanced',
    source: { type: 'discord', url: 'https://docs.openclaw.ai/start/showcase#ios-app', author: 'coard' },
    monthlyApiCost: '$20-40',
    monetizable: true,
    revenueEstimate: 'App Store revenue potential',
    impactScore: 9,
  },
  {
    title: 'Oura Ring Health Assistant',
    description: 'Personal AI health assistant integrating Oura ring biometrics with calendar, appointments, and gym schedule.',
    category: 'health',
    tags: ['health', 'oura-ring', 'wearable', 'calendar', 'fitness'],
    difficulty: 'intermediate',
    source: { type: 'discord', url: 'https://docs.openclaw.ai/start/showcase#oura', author: 'AS' },
    impactScore: 7,
  },
  {
    title: 'Multi-Agent Orchestrator 14 Plus Agents',
    description: '14+ specialized agents under one gateway with Opus orchestrator. Comprehensive write-up on model selection, sandboxing, and delegation.',
    category: 'development',
    tags: ['multi-agent', 'orchestration', 'architecture', 'enterprise'],
    difficulty: 'advanced',
    source: { type: 'github', url: 'https://github.com/adam91holt/orchestrated-ai-articles', author: 'adam91holt' },
    monthlyApiCost: '$100+',
    monetizable: true,
    impactScore: 9,
    relatedRepos: ['adam91holt/orchestrated-ai-articles', 'adam91holt/clawdspace'],
  },
  {
    title: 'Linear CLI for Agents',
    description: 'CLI for Linear that integrates with agentic workflows. Manage issues, projects, and sprints from the terminal.',
    category: 'development',
    tags: ['devtools', 'linear', 'cli', 'project-management'],
    difficulty: 'beginner',
    source: { type: 'github', url: 'https://github.com/Finesssee/linear-cli', author: 'NessZerra' },
    impactScore: 7,
    relatedRepos: ['Finesssee/linear-cli'],
  },
  {
    title: 'Beeper CLI Unified Messaging',
    description: 'Read, send, archive messages via Beeper Desktop. Manage iMessage, WhatsApp, Telegram and more from one agent.',
    category: 'communication',
    tags: ['messaging', 'beeper', 'multi-platform', 'imessage', 'whatsapp'],
    difficulty: 'intermediate',
    source: { type: 'github', url: 'https://github.com/blqke/beepcli', author: 'jules' },
    impactScore: 8,
    relatedRepos: ['blqke/beepcli'],
  },
  {
    title: 'Winix Air Purifier Control',
    description: 'Claude Code discovers purifier controls, OpenClaw takes over daily air quality management. Smart home health automation.',
    category: 'smart-home',
    tags: ['automation', 'hardware', 'air-quality', 'health', 'iot'],
    difficulty: 'intermediate',
    source: { type: 'x-post', url: 'https://x.com/antonplex/status/2010518442471006253', author: 'antonplex', authorHandle: '@antonplex' },
    impactScore: 6,
  },
  {
    title: 'Pretty Sky Camera Shots',
    description: 'Roof camera triggers OpenClaw to snap photos when the sky looks beautiful. AI-curated photography collection.',
    category: 'creative',
    tags: ['camera', 'automation', 'photography', 'beauty-detection'],
    difficulty: 'intermediate',
    source: { type: 'x-post', url: 'https://x.com/signalgaining/status/2010523120604746151', author: 'signalgaining', authorHandle: '@signalgaining' },
    impactScore: 5,
  },
  {
    title: 'Visual Morning Briefing Scene',
    description: 'Scheduled prompt generates a scene image each morning: weather, tasks, date, favorite quote via an OpenClaw persona.',
    category: 'creative',
    tags: ['automation', 'image-generation', 'briefing', 'telegram'],
    difficulty: 'intermediate',
    source: { type: 'x-post', url: 'https://x.com/buddyhadry/status/2010005331925954739', author: 'buddyhadry', authorHandle: '@buddyhadry' },
    impactScore: 6,
  },
  {
    title: 'Padel Court Booking CLI',
    description: 'Playtomic availability checker and booking CLI. Never miss an open padel court with automated slot monitoring.',
    category: 'productivity',
    tags: ['automation', 'booking', 'sports', 'padel', 'cli'],
    difficulty: 'beginner',
    source: { type: 'github', url: 'https://github.com/joshp123/padel-cli', author: 'joshp123' },
    monthlyApiCost: '$5',
    impactScore: 5,
    relatedRepos: ['joshp123/padel-cli'],
  },
  {
    title: 'Accounting Intake Automation',
    description: 'Collects PDFs from email, categorizes documents, prepares packages for tax consultant. Monthly accounting on autopilot.',
    category: 'freelancer',
    tags: ['automation', 'accounting', 'email', 'pdf', 'tax'],
    difficulty: 'intermediate',
    source: { type: 'discord', url: 'https://docs.openclaw.ai/start/showcase#accounting', author: 'Community' },
    monetizable: true,
    impactScore: 8,
  },
  {
    title: 'Couch Potato Dev Mode',
    description: 'Rebuilt entire personal site via Telegram watching Netflix. Notion to Astro migration, 18 posts, DNS to Cloudflare. Never opened laptop.',
    category: 'development',
    tags: ['telegram', 'website', 'migration', 'astro', 'notion'],
    difficulty: 'intermediate',
    source: { type: 'blog', url: 'https://davekiss.com', author: 'davekiss' },
    impactScore: 8,
  },
  {
    title: 'Job Search Agent',
    description: 'Searches job listings via JSearch API, matches against CV keywords, returns relevant opportunities. Built in 30 minutes.',
    category: 'productivity',
    tags: ['automation', 'job-search', 'api', 'career'],
    difficulty: 'beginner',
    source: { type: 'discord', url: 'https://docs.openclaw.ai/start/showcase#job-search', author: 'attol8' },
    monthlyApiCost: '$5-15',
    impactScore: 7,
  },
  {
    title: 'Todoist Skill via Telegram',
    description: 'Automated Todoist task management with skill generated directly in Telegram chat. Natural language task control.',
    category: 'productivity',
    tags: ['automation', 'todoist', 'telegram', 'task-management'],
    difficulty: 'beginner',
    source: { type: 'x-post', url: 'https://x.com/iamsubhrajyoti/status/2009949389884920153', author: 'iamsubhrajyoti', authorHandle: '@iamsubhrajyoti' },
    impactScore: 6,
  },
  {
    title: 'TradingView Chart Analysis',
    description: 'Logs into TradingView via browser automation, screenshots charts, performs technical analysis. No API needed.',
    category: 'finance',
    tags: ['finance', 'trading', 'browser-automation', 'technical-analysis'],
    difficulty: 'intermediate',
    source: { type: 'discord', url: 'https://docs.openclaw.ai/start/showcase#tradingview', author: 'bheem1798' },
    monetizable: true,
    impactScore: 7,
  },
  {
    title: 'Slack Auto-Support Agent',
    description: 'Watches Slack channel, responds helpfully, forwards to Telegram. Autonomously fixed a production bug without being asked.',
    category: 'development',
    tags: ['slack', 'automation', 'support', 'autonomous', 'bug-fixing'],
    difficulty: 'advanced',
    source: { type: 'discord', url: 'https://docs.openclaw.ai/start/showcase#slack-support', author: 'henrymascot' },
    monthlyApiCost: '$30-50',
    monetizable: true,
    impactScore: 9,
  },
  {
    title: 'Chinese Learning Engine xuezh',
    description: 'Chinese language learning with pronunciation feedback and study flows. Practice speaking, reading, and writing with AI guidance.',
    category: 'research',
    tags: ['learning', 'chinese', 'voice', 'pronunciation', 'education'],
    difficulty: 'beginner',
    source: { type: 'github', url: 'https://github.com/joshp123/xuezh', author: 'joshp123' },
    monetizable: true,
    impactScore: 7,
    relatedRepos: ['joshp123/xuezh'],
  },
  {
    title: 'WhatsApp Memory Vault',
    description: 'Ingests WhatsApp exports, transcribes 1000+ voice notes, cross-checks with git logs, outputs linked markdown reports.',
    category: 'research',
    tags: ['memory', 'whatsapp', 'transcription', 'knowledge-base'],
    difficulty: 'intermediate',
    source: { type: 'discord', url: 'https://docs.openclaw.ai/start/showcase#whatsapp-vault', author: 'Community' },
    impactScore: 7,
  },
  {
    title: 'Karakeep Semantic Search',
    description: 'Vector-based semantic search for Karakeep bookmarks using Qdrant and OpenAI/Ollama embeddings. Search by meaning.',
    category: 'research',
    tags: ['search', 'vector-search', 'bookmarks', 'qdrant', 'embeddings'],
    difficulty: 'intermediate',
    source: { type: 'github', url: 'https://github.com/jamesbrooksco/karakeep-semantic-search', author: 'jamesbrooksco' },
    impactScore: 6,
    relatedRepos: ['jamesbrooksco/karakeep-semantic-search'],
  },
  {
    title: 'Inside-Out-2 Memory System',
    description: 'Turns session files into memories, then beliefs, building an evolving AI self-model. Inspired by Inside Out 2.',
    category: 'research',
    tags: ['memory', 'beliefs', 'self-model', 'cognition', 'experimental'],
    difficulty: 'advanced',
    source: { type: 'discord', url: 'https://docs.openclaw.ai/start/showcase#inside-out', author: 'Community' },
    monthlyApiCost: '$20-40',
    impactScore: 8,
  },
  {
    title: 'Clawdia Voice Phone Bridge',
    description: 'Vapi voice assistant connected to OpenClaw via HTTP bridge. Near real-time phone calls with your AI agent.',
    category: 'communication',
    tags: ['voice', 'phone', 'vapi', 'real-time', 'calls'],
    difficulty: 'intermediate',
    source: { type: 'github', url: 'https://github.com/alejandroOPI/clawdia-bridge', author: 'alejandroOPI' },
    monthlyApiCost: '$20-50',
    monetizable: true,
    impactScore: 8,
    relatedRepos: ['alejandroOPI/clawdia-bridge'],
  },
  {
    title: 'OpenRouter Transcription Skill',
    description: 'Multi-lingual audio transcription via OpenRouter using Gemini and other models. One-click ClawHub install.',
    category: 'communication',
    tags: ['transcription', 'multilingual', 'openrouter', 'speech-to-text'],
    difficulty: 'beginner',
    source: { type: 'blog', url: 'https://clawhub.com/obviyus/openrouter-transcribe', author: 'obviyus' },
    impactScore: 6,
  },
  {
    title: 'Home Assistant Add-on',
    description: 'OpenClaw gateway running on Home Assistant OS with SSH tunnel support and persistent state.',
    category: 'smart-home',
    tags: ['homeassistant', 'add-on', 'docker', 'raspberry-pi'],
    difficulty: 'intermediate',
    source: { type: 'github', url: 'https://github.com/ngutman/openclaw-ha-addon', author: 'ngutman' },
    impactScore: 8,
    relatedRepos: ['ngutman/openclaw-ha-addon'],
  },
  {
    title: 'Home Assistant Natural Language Skill',
    description: 'Control Home Assistant devices via natural language: lights, thermostats, cameras, locks through conversational commands.',
    category: 'smart-home',
    tags: ['homeassistant', 'natural-language', 'smart-home', 'iot'],
    difficulty: 'beginner',
    source: { type: 'blog', url: 'https://clawhub.com/skills/homeassistant', author: 'ClawHub' },
    impactScore: 7,
  },
  {
    title: 'Nix Packaging for OpenClaw',
    description: 'Batteries-included nixified OpenClaw configuration for reproducible, declarative deployments.',
    category: 'development',
    tags: ['nix', 'nixos', 'packaging', 'deployment', 'reproducible'],
    difficulty: 'intermediate',
    source: { type: 'github', url: 'https://github.com/openclaw/nix-openclaw', author: 'openclaw' },
    impactScore: 6,
    relatedRepos: ['openclaw/nix-openclaw'],
  },
  {
    title: 'CalDAV Calendar Integration',
    description: 'Self-hosted calendar skill using khal/vdirsyncer. CalDAV for Nextcloud, Radicale, and other calendar servers.',
    category: 'productivity',
    tags: ['calendar', 'caldav', 'self-hosted', 'nextcloud'],
    difficulty: 'intermediate',
    source: { type: 'blog', url: 'https://clawhub.com/skills/caldav-calendar', author: 'ClawHub' },
    impactScore: 6,
  },
  {
    title: 'GoHome Nix Automation',
    description: 'Nix-native home automation with OpenClaw interface and Grafana dashboards for monitoring your entire home.',
    category: 'smart-home',
    tags: ['home-automation', 'nix', 'grafana', 'monitoring'],
    difficulty: 'advanced',
    source: { type: 'github', url: 'https://github.com/joshp123/gohome', author: 'joshp123' },
    impactScore: 7,
    relatedRepos: ['joshp123/gohome'],
  },
  {
    title: 'Roborock Vacuum Control',
    description: 'Control Roborock robot vacuum through natural conversation. Cleaning zones, schedules, and status.',
    category: 'smart-home',
    tags: ['vacuum', 'roborock', 'iot', 'cleaning'],
    difficulty: 'intermediate',
    source: { type: 'github', url: 'https://github.com/joshp123/gohome/tree/main/plugins/roborock', author: 'joshp123' },
    impactScore: 6,
    relatedRepos: ['joshp123/gohome'],
  },
  {
    title: 'StarSwap Astronomy Marketplace',
    description: 'Full astronomy gear marketplace built with the OpenClaw ecosystem. Buy and sell telescopes and accessories.',
    category: 'wild',
    tags: ['marketplace', 'astronomy', 'e-commerce', 'community'],
    difficulty: 'advanced',
    source: { type: 'blog', url: 'https://star-swap.com/', author: 'Community' },
    monthlyApiCost: '$20-50',
    monetizable: true,
    impactScore: 7,
  },
];

// Apply defaults and dedup
let added = 0;
let skipped = 0;
const newCases = [];

for (const raw of showcaseCases) {
  const full = applyDefaults({
    ...raw,
    dateAdded: today,
    verified: true,
    featured: false,
  });

  const dup = isDuplicate(full, dedupIndex);
  if (dup.duplicate) {
    console.log(`  SKIP (dup): ${full.title} — ${dup.reason}`);
    skipped++;
    continue;
  }

  newCases.push(full);
  // Add to index so subsequent cases dedup against each other too
  dedupIndex.byUrl.add((full.source?.url || '').toLowerCase().replace(/\/$/, ''));
  dedupIndex.byId.add(full.id);
  added++;
}

writeFileSync('scripts/pending/showcase-2026-02-17.json', JSON.stringify(newCases, null, 2));
console.log(`\nDone: ${added} new cases written, ${skipped} duplicates skipped`);
console.log(`Output: scripts/pending/showcase-2026-02-17.json`);
